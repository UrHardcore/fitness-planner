:root{
  --bg:ff000000; --fg:#ffffff; --muted:ffffff;
  --card-3:#bd66ff42; --card-4:#bd66ff42; --card-5:##000000; --card-6:#bd66ff42; --card-7:#3d0041; --card-8:#ff0000;
  --card:#ffffff00; --card-2:#bd66ff42; --primary:#9a01dc; --danger:#590168; --ghost:#000000;
  --border:#2b0039; --shadow:0 8px 24px rgba(0,0,0,.61);
}
html.dark{
  --bg:#000000; --card:#ffffff; --card-2:#00000036; --border:#e600ff; --muted:#ffffff;
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;font:15px/1.1 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial;color:var(--fg);background:var(--gb)}
.small{font-size:.9rem}
.w100{width:100%}
.w100-sm{min-width:180px}
.mb8{margin-bottom:8px}

/* Altura real en móviles */
.screen{min-height:100dvh;display:flex;flex-direction:column}
.hidden{display:none!important}
.muted{color:var(--fg)}
.mt8{margin-top:8px}

.btn{border:1px solid var(--border);background:var(--ghost);color:var(--fg);padding:.6rem 1rem;border-radius:.75rem;cursor:pointer;transition:transform .05s ease,opacity .2s}
.btn:hover{opacity:.95}
.btn:active{transform:translateY(1px)}
.btn.primary{background:var(--fg);border-color:transparent;color:#041019;font-weight:700}
.btn.danger{background:var(--danger);border-color:transparent}
.btn.danger.outline{background:var(--card-8);color:var(--ghost);border-color:var(--card-8)}
.btn.ghost{background:transparent}
.btn[disabled]{opacity:.5;cursor:not-allowed}
.link-btn{background:transparent;border:none;color:var(--primary);cursor:pointer;margin-top:6px;padding:0}

.login-screen .bg{position:fixed;inset:0;width:100%;height:100%;object-fit:cover;filter:brightness(.55)}
.login-card{
  margin:auto;
  display:grid;
  grid-template-columns:240px minmax(280px,420px);
  gap:0;
  background:rgba(10,12,16,.75);
  backdrop-filter:blur(6px);
  border:1px solid rgba(85,0,97,.08);
  border-radius:20px;
  box-shadow:var(--shadow);
  overflow:hidden
}
.login-left{display:flex;align-items:center;justify-content:center;background:linear-gradient(210deg,rgba(0,0,0,0),rgba(250,0,255,12%))}
.brand{width:285px;height:auto;filter:drop-shadow(0 8px 100px rgba(77,163,255,.35))}
.login-right{padding:20px}
.login-right h1{margin:0 0 10px;font-size:28px}
.login-right h1 span{color:var(--primary)}
.login-actions{display:flex;align-items:center;gap:10px;margin-top:14px}
.form{display:grid;gap:10px;margin-top:6px}
.divider{display:flex;align-items:center;gap:12px;margin:10px 0}
.divider::before,.divider::after{content:"";height:1px;background:var(--border);flex:1}
.divider span{opacity:.7}

.login-footer{position:fixed;bottom:10px;width:100%;text-align:center;color:#d6dbe6}

.topbar{position:sticky;top:0;z-index:10;display:flex;align-items:center;justify-content:space-between;padding:10px 16px;border-bottom:1px solid var(--border);background:linear-gradient(180deg,var(--card),var(--card-2))}
.topbar .left{display:flex;align-items:center;gap:12px}
.brand-sm{width:40px;height:40px;border-radius:10px}
.user{margin-right:8px;opacity:.9}
.content{max-width:1100px;margin:18px auto;padding:0 16px}

.card{background:var(--card-7);border:1px solid var(--fg);border-radius:16px;box-shadow:var(--shadow);padding:12px;margin-bottom:16px}
.row{display:flex;gap:12px;align-items:flex-end}
.row.wrap{flex-wrap:wrap}
.col{flex:1;min-width:180px}
.col.auto{flex:0 0 auto}
.right{text-align:right}
.g8{gap:8px}

input,select,textarea{width:100%;padding:.6rem .7rem;border-radius:.6rem;border:1px solid var(--border);background:var(--fg);color:var(--ghost)}
label{display:block;margin:0 0 1px}

.tabs{display:flex;gap:6px;margin:12px 0}
/* ===== Sticky + scroll en móvil ===== */
.tabs{position:sticky; top:60px; z-index:9; background:var(--card); padding-top:6px; overflow-x:auto; -webkit-overflow-scrolling:touch}
.tabs .tab{flex:0 0 auto}
.tabs .tab{padding:.5rem .75rem;border:1px solid var(--border);background:var(--fg);border-radius:.6rem;cursor:pointer}
.tabs .tab.active{background:var(--primary);color:#041019;border-color:transparent;font-weight:700}

.table-wrap{overflow:auto;border:1px solid var(--border);border-radius:12px}
.table{width:100%;border-collapse:collapse;min-width:720px}
.table th,.table td{padding:.6rem;border-bottom:1px solid var(--border)}
.table thead th{position:sticky;top:0;background:var(--card)}
.table td:last-child{text-align:right}

.results{margin-top:8px;display:grid;gap:8px}
.result-item{display:flex;justify-content:space-between;align-items:center;padding:8px;border:1px dashed var(--border);border-radius:10px;background:var(--card-2)}

.grid-2{display:grid;grid-template-columns:1fr 1fr;gap:16px}
@media (max-width:900px){.grid-2{grid-template-columns:1fr}}

.timer{text-align:center}
.display{font-size:42px;font-weight:800;letter-spacing:1px;margin:8px 0 12px}

.toast{position:fixed;left:50%;bottom:24px;transform:translateX(-50%);background:#111;border:1px solid var(--border);color:#fff;padding:.7rem 1rem;border-radius:.7rem;opacity:0;pointer-events:none;transition:opacity .25s}
.toast.show{opacity:1}

/* ===== Modal (nombre y cronómetro) ===== */
.modal{position:fixed; inset:0; display:flex; align-items:center; justify-content:center; background:rgba(0,0,0,.55); z-index:1000}
.modal.hidden{display:none!important}
.modal-card{background:var(--card-7); border:1px solid var(--fg); border-radius:16px; box-shadow:var(--shadow); padding:16px; width:min(92vw,420px); position:relative}
.modal-x{position:absolute; top:8px; right:10px; background:transparent; border:none; font-size:22px; color:var(--fg); cursor:pointer}
.modal .display{font-size:48px; text-align:center; margin:8px 0 12px}

/* ===== Responsive login ===== */
@media (max-width: 720px){
  .login-card{
    grid-template-columns: 1fr;
    width: min(94vw, 460px);
    position: relative;
    overflow: visible;
  }
  .login-left{display:none}
  .login-right{padding:16px 14px}
  .login-right h1{font-size:22px}

  /* Evitar zoom en iOS */
  input,select,textarea{font-size:16px}

  .btn{padding:.9rem 1rem}
  .w100-sm{min-width:unset;width:100%}

  .login-screen .bg{filter:brightness(.45)}
  .login-footer{bottom:calc(env(safe-area-inset-bottom, 0) + 8px)}
}

/* Teléfonos muy pequeños */
@media (max-width: 360px){
  .login-card{width:94vw;border-radius:14px}
  .btn{font-size:.95rem}
}
